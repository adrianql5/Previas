<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üî• PREVIAS - El Juego M√°s Bestia üî•</title>

    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600;700;900&display=swap');

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            height: 100%;
            width: 100%;
        }

        body {
            background: #0a0a0a;
            min-height: 100vh;
            min-height: 100dvh;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            overflow-x: hidden;
            color: white;
        }

        /* Background with subtle red glow */
        .bg-hellfire {
            background:
                radial-gradient(ellipse at 50% 0%, rgba(139, 0, 0, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 100%, rgba(139, 0, 0, 0.1) 0%, transparent 50%),
                #0a0a0a;
            min-height: 100vh;
            min-height: 100dvh;
        }

        /* Main container */
        .main-container {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* Content wrapper - controls max width */
        .content-wrapper {
            width: 100%;
            max-width: 420px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Header/Title section */
        .header-section {
            text-align: center;
            padding: 10px 0;
        }

        .title-brutal {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(3rem, 12vw, 5rem);
            letter-spacing: 6px;
            line-height: 1;
            background: linear-gradient(180deg, #ff3333 0%, #cc0000 50%, #990000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.5));
            animation: pulse-glow 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {

            0%,
            100% {
                filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.5));
            }

            50% {
                filter: drop-shadow(0 0 35px rgba(255, 0, 0, 0.8));
            }
        }

        .subtitle {
            color: #666;
            font-size: clamp(0.85rem, 3vw, 1rem);
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-top: 8px;
            font-weight: 600;
        }

        /* Cards */
        .card {
            background: linear-gradient(145deg, #151515 0%, #0d0d0d 100%);
            border: 1px solid rgba(255, 0, 0, 0.2);
            border-radius: 20px;
            padding: clamp(20px, 5vw, 28px);
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20%;
            right: 20%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff0000, transparent);
            border-radius: 2px;
        }

        /* Warning banner */
        .warning-banner {
            background: repeating-linear-gradient(-45deg,
                    #1a0000,
                    #1a0000 8px,
                    #0d0d0d 8px,
                    #0d0d0d 16px);
            border: 1px solid rgba(255, 0, 0, 0.3);
            border-radius: 12px;
            padding: 12px 16px;
            text-align: center;
            margin-bottom: 20px;
        }

        .warning-text {
            color: #ff4444;
            font-weight: 700;
            font-size: clamp(0.75rem, 2.5vw, 0.85rem);
            letter-spacing: 1px;
        }

        /* Buttons */
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: clamp(16px, 4vw, 20px) 24px;
            border-radius: 14px;
            font-weight: 800;
            font-size: clamp(1rem, 4vw, 1.15rem);
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            border: none;
            transition: all 0.25s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-full {
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #cc0000 0%, #ff0000 50%, #cc0000 100%);
            color: white;
            box-shadow: 0 4px 20px rgba(255, 0, 0, 0.3);
        }

        .btn-primary:hover,
        .btn-primary:active {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 0, 0, 0.5);
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .btn-add {
            padding: 16px 20px;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        /* Input */
        .input {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 16px;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.25s ease;
            min-width: 0;
        }

        .input:focus {
            outline: none;
            border-color: #ff0000;
            box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.15);
        }

        .input::placeholder {
            color: rgba(255, 255, 255, 0.35);
        }

        /* Input group - FIXED */
        .input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            align-items: stretch;
        }

        .input-group .input {
            flex: 1 1 auto;
            width: 100%;
        }

        .input-group .btn-add {
            flex: 0 0 auto;
        }

        /* Player list */
        .player-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .player-item {
            display: flex;
            align-items: center;
            gap: 14px;
            background: rgba(255, 0, 0, 0.08);
            border: 1px solid rgba(255, 0, 0, 0.15);
            border-radius: 12px;
            padding: 12px 16px;
            transition: all 0.2s ease;
        }

        .player-item:hover {
            background: rgba(255, 0, 0, 0.12);
            border-color: rgba(255, 0, 0, 0.3);
        }

        .player-avatar {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: linear-gradient(135deg, #cc0000, #660000);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }

        .player-name {
            flex: 1;
            font-weight: 600;
            font-size: 1rem;
        }

        .player-remove {
            background: none;
            border: none;
            color: #ff4444;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            opacity: 0.6;
            transition: opacity 0.2s;
        }

        .player-remove:hover {
            opacity: 1;
        }

        .empty-state {
            text-align: center;
            padding: 30px 20px;
            color: #555;
        }

        .empty-state .emoji {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }

        /* Section titles */
        .section-title {
            font-size: clamp(1.5rem, 5vw, 1.8rem);
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #ff3333, #ff0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            color: #666;
            text-align: center;
            font-size: clamp(0.85rem, 2.5vw, 0.95rem);
            margin-bottom: 20px;
        }

        /* Game screen */
        .turn-badge {
            display: inline-block;
            background: rgba(255, 0, 0, 0.15);
            border: 1px solid rgba(255, 0, 0, 0.3);
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 700;
            color: #ff4444;
            letter-spacing: 1px;
        }

        .current-player {
            text-align: center;
            margin: 16px 0;
        }

        .current-player-label {
            color: #666;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 6px;
        }

        .current-player-name {
            font-size: clamp(1.8rem, 7vw, 2.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, #ff3333, #ff0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.4));
        }

        /* Challenge card */
        .challenge-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid rgba(255, 0, 0, 0.25);
            border-radius: 20px;
            padding: clamp(24px, 6vw, 32px);
            text-align: center;
            box-shadow:
                0 0 30px rgba(255, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            animation: card-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes card-enter {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .category-badge {
            display: inline-block;
            padding: 8px 18px;
            border-radius: 30px;
            font-size: clamp(0.7rem, 2.5vw, 0.8rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: white;
            margin-bottom: 20px;
        }

        .challenge-text {
            font-size: clamp(1.1rem, 4vw, 1.4rem);
            line-height: 1.5;
            font-weight: 600;
            color: #eee;
            margin-bottom: 16px;
        }

        .drink-option {
            background: rgba(255, 0, 0, 0.1);
            border: 1px dashed rgba(255, 0, 0, 0.4);
            border-radius: 10px;
            padding: 10px 16px;
            margin-top: 16px;
            font-size: 0.9rem;
            color: #ff6666;
        }

        /* Player pills in game */
        .player-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            padding: 16px;
        }

        .player-pill {
            padding: 10px 18px;
            border-radius: 30px;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .player-pill.active {
            background: linear-gradient(135deg, #cc0000, #990000);
            color: white;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
        }

        .player-pill.inactive {
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Floating decorations */
        .floating-skull {
            position: fixed;
            font-size: clamp(1.5rem, 4vw, 2rem);
            opacity: 0.08;
            pointer-events: none;
            animation: float-up 25s linear infinite;
            z-index: 1;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            5% {
                opacity: 0.08;
            }

            95% {
                opacity: 0.08;
            }

            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Helper text */
        .helper-text {
            color: #555;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            text-align: center;
            margin-top: 16px;
        }

        /* Back button */
        .back-btn {
            color: #555;
            background: none;
            border: none;
            padding: 16px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: color 0.2s;
            font-weight: 600;
            width: 100%;
            text-align: center;
        }

        .back-btn:hover {
            color: #ff4444;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 0, 0, 0.3);
            border-radius: 2px;
        }

        .text-center {
            text-align: center;
        }
    </style>
</head>

<body class="bg-hellfire">
    <div id="app">
        <!-- Floating decorations -->
        <div class="floating-skull" style="left: 8%; animation-delay: 0s;">üíÄ</div>
        <div class="floating-skull" style="left: 25%; animation-delay: 5s;">üî•</div>
        <div class="floating-skull" style="left: 50%; animation-delay: 10s;">üç∫</div>
        <div class="floating-skull" style="left: 75%; animation-delay: 15s;">üéâ</div>
        <div class="floating-skull" style="left: 92%; animation-delay: 20s;">üíÄ</div>

        <div class="main-container">
            <div class="content-wrapper">

                <!-- ==================== START SCREEN ==================== -->
                <template v-if="screen === 'start'">
                    <div class="header-section">
                        <h1 class="title-brutal">PREVIAS</h1>
                        <p class="subtitle">El juego m√°s bestia</p>
                    </div>

                    <div class="card">
                        <div class="warning-banner">
                            <span class="warning-text">‚ö†Ô∏è SOLO PARA MAYORES DE 18 ‚ö†Ô∏è</span>
                        </div>

                        <button @click="startGame" class="btn btn-primary btn-full">
                            üéÆ JUGAR
                        </button>

                        <p class="helper-text">A√±ade jugadores y prep√°rate para lo peor</p>
                    </div>
                </template>

                <!-- ==================== ADD PLAYERS SCREEN ==================== -->
                <template v-if="screen === 'addPlayers'">
                    <div>
                        <h2 class="section-title">üë• V√çCTIMAS</h2>
                        <p class="section-subtitle">M√≠nimo 2 valientes para empezar</p>
                    </div>

                    <div class="card">
                        <div class="input-group">
                            <input v-model="newPlayerName" type="text" placeholder="Nombre del jugador..." class="input"
                                maxlength="15" @keyup.enter="addPlayer">
                            <button @click="addPlayer" class="btn btn-primary btn-add"
                                :disabled="!newPlayerName.trim()">
                                ‚ûï
                            </button>
                        </div>

                        <div class="player-list">
                            <div v-for="(player, index) in players" :key="index" class="player-item">
                                <div class="player-avatar">{{ player.charAt(0).toUpperCase() }}</div>
                                <span class="player-name">{{ player }}</span>
                                <button @click="removePlayer(index)" class="player-remove">‚úï</button>
                            </div>

                            <div v-if="players.length === 0" class="empty-state">
                                <span class="emoji">üíÄ</span>
                                <p>¬øNadie tiene huevos?</p>
                            </div>
                        </div>

                        <button @click="startGameWithPlayers" class="btn btn-primary btn-full"
                            :disabled="players.length < 2">
                            üî• EMPEZAR ({{ players.length }} jugadores)
                        </button>
                    </div>

                    <button @click="screen = 'start'" class="back-btn">‚Üê Volver</button>
                </template>

                <!-- ==================== GAME SCREEN ==================== -->
                <template v-if="screen === 'game'">
                    <div class="text-center">
                        <span class="turn-badge">RONDA {{ currentTurn + 1 }}</span>
                    </div>

                    <div class="current-player">
                        <p class="current-player-label">Le toca a</p>
                        <p class="current-player-name">{{ currentPlayerName }}</p>
                    </div>

                    <div class="challenge-card" :key="currentTurn">
                        <span class="category-badge"
                            :style="{ background: getCategoryColor(currentChallengeData?.category) }">
                            {{ getCategoryEmoji(currentChallengeData?.category) }}
                            {{ currentChallengeData?.category || 'Desaf√≠o' }}
                        </span>
                        <p class="challenge-text">{{ currentChallengeData?.text }}</p>
                        <div class="drink-option">
                            üç∫ {{ getDrinkText(currentChallengeData) }}
                        </div>
                    </div>

                    <div class="card">
                        <div class="player-pills">
                            <span v-for="(name, index) in players" :key="index" class="player-pill"
                                :class="name === currentPlayerName ? 'active' : 'inactive'">
                                {{ name }}
                            </span>
                        </div>
                    </div>

                    <button @click="nextTurn" class="btn btn-primary btn-full">
                        ‚è≠Ô∏è SIGUIENTE TURNO
                    </button>

                    <button @click="endGame" class="back-btn">üö™ Terminar Partida</button>
                </template>

            </div>
        </div>
    </div>

    <script>
        const { createApp, ref } = Vue;

        // ============================================================
        // üî• DESAF√çOS - FIESTAS, BURRADAS Y MOMENTOS √âPICOS üî•
        // Cada desaf√≠o tiene: category, text, drinks (proporcional)
        // ============================================================
        const challenges = [
            // ============ YO NUNCA - Si lo has hecho, bebes ============
            { category: "Yo Nunca", text: "Yo nunca... me he meado en la calle estando borracho/a üö∂", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... me he despertado sin saber c√≥mo llegu√© a casa üè†", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he vomitado en un sitio p√∫blico (bar, disco, taxi...) ü§Æ", drinks: 3, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... me he quedado dormido/a en un sitio random de fiesta üò¥", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he perdido el m√≥vil, cartera o llaves de fiesta üì±", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he hecho algo de lo que me arrepent√≠ al d√≠a siguiente üò¨", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... me han echado de un bar o discoteca üö™", drinks: 3, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he mezclado bebidas hasta morir (cubata + chupitos + vino...) üçπ", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he llorado borracho/a por tonter√≠as üò≠", drinks: 1, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he roto algo en una fiesta (vasos, muebles, puertas...) üí•", drinks: 3, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... me he liado con alguien que no deb√≠a üíã", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he hecho un calvo/mooning en p√∫blico üçë", drinks: 4, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he llamado a alguien borracho/a y dicho algo vergonzoso üìû", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... he subido algo a redes borracho/a que tuve que borrar üì±", drinks: 2, drinkType: "guilty" },
            { category: "Yo Nunca", text: "Yo nunca... me he ba√±ado en una fuente o piscina de madrugada üèä", drinks: 3, drinkType: "guilty" },

            // ============ CUENTA - Cuenta o bebe ============
            { category: "Cuenta", text: "Cuenta tu PEOR resaca de la historia. Con detalles ü§ï", drinks: 3, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta algo vergonzoso que hayas hecho en una fiesta üò≥", drinks: 3, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta una pelea o discusi√≥n que hayas tenido de fiesta üëä", drinks: 4, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta tu momento m√°s √âPICO de una noche de fiesta üèÜ", drinks: 2, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta la an√©cdota m√°s loca que tengas con alguien de aqu√≠ üé≠", drinks: 3, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta algo ilegal que hayas hecho (sin dar muchos detalles) üö®", drinks: 5, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta tu ligoteo m√°s pat√©tico üíî", drinks: 2, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta la mayor mentira que hayas dicho para escaparte de algo ü§•", drinks: 3, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta algo que hiciste borracho/a que NO recuerdas pero te contaron üß†", drinks: 3, drinkType: "alternative" },
            { category: "Cuenta", text: "Cuenta tu momento m√°s rid√≠culo intentando ligar üôÉ", drinks: 2, drinkType: "alternative" },

            // ============ RETO - Hazlo o bebe ============
            { category: "Reto", text: "Imita a otro jugador hasta que adivinen qui√©n es üé≠", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Llama a tu √∫ltimo contacto y dile 'Te echo de menos' üìû", drinks: 4, drinkType: "alternative" },
            { category: "Reto", text: "Haz 10 flexiones ahora mismo üí™", drinks: 3, drinkType: "alternative" },
            { category: "Reto", text: "Grita algo random por la ventana/balc√≥n üì¢", drinks: 4, drinkType: "alternative" },
            { category: "Reto", text: "Deja que el grupo escriba un mensaje desde tu m√≥vil üì±", drinks: 5, drinkType: "alternative" },
            { category: "Reto", text: "Cuenta un chiste. Si nadie se r√≠e, bebe el doble üòÇ", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Imita a un famoso durante 30 segundos üåü", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Baila sin m√∫sica durante 20 segundos üíÉ", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Di algo bonito a cada jugador. Tiene que ser sincero üíñ", drinks: 3, drinkType: "alternative" },
            { category: "Reto", text: "Mant√©n una conversaci√≥n solo con palabras en ingl√©s durante 1 minuto üá¨üáß", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Deja que alguien te haga una foto fea y s√∫bela a tu estado üì∏", drinks: 4, drinkType: "alternative" },
            { category: "Reto", text: "Habla con acento de otra regi√≥n/pa√≠s hasta tu siguiente turno üó£Ô∏è", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Come algo raro que elija el grupo (salsa picante, lim√≥n a bocados...) üå∂Ô∏è", drinks: 4, drinkType: "alternative" },
            { category: "Reto", text: "Haz tu mejor imitaci√≥n de un animal. El grupo vota si vale üêî", drinks: 2, drinkType: "alternative" },
            { category: "Reto", text: "Deja que el grupo cambie tu foto de perfil de WhatsApp por 24h üì±", drinks: 5, drinkType: "alternative" },

            // ============ VOTACI√ìN - El votado bebe ============
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n es el/la que m√°s l√≠a de aqu√≠? üî•", drinks: 3, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n ser√≠a el peor conductor borracho? üöó", drinks: 3, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n se pondr√≠a m√°s pesado en una isla desierta? üèùÔ∏è", drinks: 3, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n tiene las peores resacas? ü§ï", drinks: 2, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n es m√°s probable que acabe en la c√°rcel? üöî", drinks: 4, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n miente m√°s? ü§•", drinks: 3, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n es el/la m√°s dram√°tico/a? üëë", drinks: 2, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n tiene el peor gusto en m√∫sica? üéµ", drinks: 2, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øa qui√©n le confiar√≠as menos un secreto? ü§´", drinks: 3, drinkType: "voted" },
            { category: "Votaci√≥n", text: "El grupo vota: ¬øqui√©n ligar√≠a peor si estuviera solo/a? üíî", drinks: 2, drinkType: "voted" },

            // ============ TODOS BEBEN - Los que apliquen beben ============
            { category: "Todos Beben", text: "¬°TODOS LOS QUE HAYAN VOMITADO EN EL √öLTIMO A√ëO! ü§Æ", drinks: 2, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°TODOS LOS QUE TENGAN RESACA AHORA MISMO! ü§ï", drinks: 2, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°TODOS LOS QUE HAYAN LLEGADO TARDE HOY! ‚è∞", drinks: 2, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°TODOS LOS QUE LLEVEN ALGO NEGRO! üñ§", drinks: 1, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°TODOS LOS QUE HAYAN DICHO UNA MENTIRA HOY! ü§•", drinks: 2, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°EL √öLTIMO QUE MIR√ì EL M√ìVIL! üì±", drinks: 2, drinkType: "loser" },
            { category: "Todos Beben", text: "¬°TODOS LOS QUE NO HAYAN DORMIDO M√ÅS DE 6 HORAS! üò¥", drinks: 2, drinkType: "applicable" },
            { category: "Todos Beben", text: "¬°BRINDIS! ¬°TODOS BEBEN! üçª", drinks: 1, drinkType: "everyone" },
            { category: "Todos Beben", text: "¬°CASCADA! Todos beben en orden, solo paras cuando pare el de tu izquierda üåä", drinks: 3, drinkType: "everyone" },
            { category: "Todos Beben", text: "¬°RONDA GENERAL! Todo el mundo bebe sin excusas üç∫", drinks: 2, drinkType: "everyone" },

            // ============ ELIGE - El elegido bebe/hace algo ============
            { category: "Elige", text: "Elige a alguien para que cuente su peor an√©cdota de borrachera. Si no la cuenta... üç∫", drinks: 3, drinkType: "chosen" },
            { category: "Elige", text: "Elige a alguien para hacerle 3 preguntas inc√≥modas. Por cada pregunta que no responda... üîç", drinks: 2, drinkType: "chosen" },
            { category: "Elige", text: "Elige a 2 personas para un duelo de miradas. El primero que se r√≠a... üëÅÔ∏è", drinks: 3, drinkType: "loser" },
            { category: "Elige", text: "Elige a alguien para que te imite. Si no aciertas qui√©n es, bebes t√∫ üé≠", drinks: 2, drinkType: "loser" },
            { category: "Elige", text: "Reparte estos tragos entre los jugadores como quieras üéØ", drinks: 5, drinkType: "distribute" },
            { category: "Elige", text: "Elige a alguien para piedra-papel-tijera. El perdedor... ‚úÇÔ∏è", drinks: 3, drinkType: "loser" },
            { category: "Elige", text: "Elige a alguien: esa persona tiene que hacer una llamada en altavoz. Si no lo hace... ÔøΩ", drinks: 5, drinkType: "chosen" },
            { category: "Elige", text: "Elige qui√©n tiene que contar la an√©cdota m√°s vergonzosa de su vida. Si no la cuenta... üò≥", drinks: 4, drinkType: "chosen" },
            { category: "Elige", text: "Elige a alguien para intercambiar bebidas contigo el resto de la partida ÔøΩ", drinks: 0, drinkType: "none" },
            { category: "Elige", text: "Elige qui√©n tiene que imitar a otro jugador hasta que adivinen qui√©n es. Si falla... üé≠", drinks: 2, drinkType: "chosen" },

            // ============ DUELO - El perdedor bebe ============
            { category: "Duelo", text: "DUELO: Piedra, papel, tijera al mejor de 3. El perdedor... ‚úÇÔ∏è", drinks: 3, drinkType: "loser" },
            { category: "Duelo", text: "DUELO: ¬øQui√©n aguanta m√°s sin re√≠rse? Miraos fijamente 30 segundos. El que se r√≠a... üëÅÔ∏è", drinks: 3, drinkType: "loser" },
            { category: "Duelo", text: "DUELO: Competid a ver qui√©n dice m√°s capitales de Europa en 30 seg. El perdedor... üåç", drinks: 3, drinkType: "loser" },
            { category: "Duelo", text: "DUELO: A ver qui√©n hace mejor imitaci√≥n de un borracho. El grupo vota, el perdedor... ü•¥", drinks: 2, drinkType: "loser" },
            { category: "Duelo", text: "DUELO: Pulso de pulgares. El perdedor... üí™", drinks: 2, drinkType: "loser" },
            { category: "Duelo", text: "DUELO: ¬øQui√©n cuenta el chiste m√°s malo? El grupo vota, el perdedor... üòÇ", drinks: 2, drinkType: "loser" },

            // ============ NUEVA REGLA - El que falle bebe ============
            { category: "Nueva Regla", text: "REGLA: Nadie puede decir 'yo' hasta el siguiente turno. El que lo diga... üôä", drinks: 1, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Hay que brindar antes de cada trago. El que no lo haga bebe el doble ü•Ç", drinks: 2, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Solo se puede beber con la mano izquierda. El que falle... üñêÔ∏è", drinks: 1, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Hay que hablar en tercera persona. El que falle... üë§", drinks: 1, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Todos tienen que a√±adir 't√≠o' al final de cada frase, t√≠o. El que falle... üó£Ô∏è", drinks: 1, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Prohibido se√±alar con el dedo. El que lo haga... üëÜ", drinks: 1, drinkType: "fail" },
            { category: "Nueva Regla", text: "REGLA: Antes de beber hay que decir algo que te mole del de tu derecha üíñ", drinks: 1, drinkType: "fail" },

            // ============ BOMBA - Hazlo o bebe un mont√≥n ============
            { category: "Bomba", text: "üí£ BOMBA: Rankea a todos del m√°s al menos gracioso. EN VOZ ALTA", drinks: 5, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Confiesa algo que nunca le dir√≠as a nadie del grupo... Y DILO", drinks: 5, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Di qu√© es lo que m√°s te molesta de cada persona aqu√≠ üò¨", drinks: 6, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Cuenta tu mayor cagada de la vida. Algo GORDO", drinks: 5, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Di una verdad sobre ti que nadie aqu√≠ sepa", drinks: 4, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Imita a alguien del grupo exagerando sus defectos üé≠", drinks: 4, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Cuenta la peor pelea o discusi√≥n que hayas tenido üëä", drinks: 5, drinkType: "alternative" },
            { category: "Bomba", text: "üí£ BOMBA: Di qu√© cambiar√≠as de cada persona del grupo üîß", drinks: 5, drinkType: "alternative" }
        ];

        const app = createApp({
            setup() {
                const screen = ref('start');
                const players = ref([]);
                const newPlayerName = ref('');
                const currentTurn = ref(0);
                const currentPlayerName = ref('');
                const currentChallengeData = ref(null);
                const currentPlayerIndex = ref(0);

                const startGame = () => {
                    screen.value = 'addPlayers';
                };

                const addPlayer = () => {
                    const name = newPlayerName.value.trim();
                    if (name && !players.value.includes(name)) {
                        players.value.push(name);
                        newPlayerName.value = '';
                    }
                };

                const removePlayer = (index) => {
                    players.value.splice(index, 1);
                };

                const pickRandomChallenge = () => {
                    const challenge = challenges[Math.floor(Math.random() * challenges.length)];
                    currentChallengeData.value = challenge;
                };

                const startGameWithPlayers = () => {
                    if (players.value.length < 2) return;
                    currentPlayerIndex.value = Math.floor(Math.random() * players.value.length);
                    currentPlayerName.value = players.value[currentPlayerIndex.value];
                    pickRandomChallenge();
                    currentTurn.value = 0;
                    screen.value = 'game';
                };

                const nextTurn = () => {
                    currentPlayerIndex.value = (currentPlayerIndex.value + 1) % players.value.length;
                    currentPlayerName.value = players.value[currentPlayerIndex.value];
                    pickRandomChallenge();
                    currentTurn.value++;
                };

                const endGame = () => {
                    players.value = [];
                    currentTurn.value = 0;
                    screen.value = 'start';
                };

                const getCategoryColor = (category) => {
                    const colors = {
                        'Yo Nunca': 'linear-gradient(135deg, #dc2626, #991b1b)',
                        'Cuenta': 'linear-gradient(135deg, #9333ea, #6b21a8)',
                        'Reto': 'linear-gradient(135deg, #ea580c, #c2410c)',
                        'Votaci√≥n': 'linear-gradient(135deg, #0891b2, #0e7490)',
                        'Todos Beben': 'linear-gradient(135deg, #16a34a, #15803d)',
                        'Elige': 'linear-gradient(135deg, #db2777, #be185d)',
                        'Duelo': 'linear-gradient(135deg, #d97706, #b45309)',
                        'Nueva Regla': 'linear-gradient(135deg, #4f46e5, #3730a3)',
                        'Bomba': 'linear-gradient(135deg, #18181b, #000000)'
                    };
                    return colors[category] || 'linear-gradient(135deg, #6b7280, #4b5563)';
                };

                const getCategoryEmoji = (category) => {
                    const emojis = {
                        'Yo Nunca': 'üôÖ',
                        'Cuenta': 'üìñ',
                        'Reto': 'üéØ',
                        'Votaci√≥n': 'üó≥Ô∏è',
                        'Todos Beben': 'üçª',
                        'Elige': 'üëÜ',
                        'Duelo': '‚öîÔ∏è',
                        'Nueva Regla': 'üìú',
                        'Bomba': 'üí£'
                    };
                    return emojis[category] || 'üî•';
                };

                const getDrinkText = (challenge) => {
                    if (!challenge) return '';
                    const d = challenge.drinks;
                    const plural = d > 1 ? 's' : '';

                    switch (challenge.drinkType) {
                        case 'guilty':
                            return `Si lo has hecho, bebe ${d} trago${plural}`;
                        case 'alternative':
                            return `O bebe ${d} trago${plural}`;
                        case 'voted':
                            return `El/la votado/a bebe ${d} trago${plural}`;
                        case 'loser':
                            return `El perdedor bebe ${d} trago${plural}`;
                        case 'chosen':
                            return `Si no lo hace, bebe ${d} trago${plural}`;
                        case 'applicable':
                            return `Los que apliquen beben ${d} trago${plural}`;
                        case 'everyone':
                            return `Todos beben ${d} trago${plural}`;
                        case 'distribute':
                            return `Reparte ${d} tragos`;
                        case 'fail':
                            return `El que falle bebe ${d} trago${plural}`;
                        case 'none':
                            return 'Sin bebida';
                        default:
                            return `Bebe ${d} trago${plural}`;
                    }
                };

                return {
                    screen,
                    players,
                    newPlayerName,
                    currentTurn,
                    currentPlayerName,
                    currentChallengeData,
                    startGame,
                    addPlayer,
                    removePlayer,
                    startGameWithPlayers,
                    nextTurn,
                    endGame,
                    getCategoryColor,
                    getCategoryEmoji,
                    getDrinkText
                };
            }
        });

        app.mount('#app');
    </script>
</body>

</html>