<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üî• PREVIAS - El Juego M√°s Bestia üî•</title>

    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600;700;900&display=swap');

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
        }

        body {
            background: #0a0a0a;
            min-height: 100vh;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            overflow-x: hidden;
            color: white;
        }

        /* Animated blood drip background */
        .bg-hellfire {
            background:
                radial-gradient(ellipse at top, #1a0000 0%, #0a0a0a 50%),
                radial-gradient(ellipse at bottom, #0a0a0a 0%, #000000 100%);
            background-size: 100% 100%;
            position: relative;
        }

        .bg-hellfire::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 100px,
                    rgba(255, 0, 0, 0.03) 100px,
                    rgba(255, 0, 0, 0.03) 101px);
            pointer-events: none;
            z-index: 0;
        }

        /* Fire glow effects */
        .glow-fire {
            box-shadow:
                0 0 20px rgba(255, 0, 0, 0.6),
                0 0 40px rgba(255, 0, 0, 0.4),
                0 0 60px rgba(255, 0, 0, 0.2),
                inset 0 0 20px rgba(255, 0, 0, 0.1);
        }

        .glow-fire-intense {
            box-shadow:
                0 0 30px rgba(255, 0, 0, 0.8),
                0 0 60px rgba(255, 0, 0, 0.5),
                0 0 90px rgba(255, 0, 0, 0.3);
        }

        /* Glowing text */
        .text-fire {
            background: linear-gradient(135deg, #ff0000 0%, #ff4444 50%, #ff0000 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.8));
        }

        .text-glow {
            text-shadow:
                0 0 10px rgba(255, 0, 0, 0.9),
                0 0 20px rgba(255, 0, 0, 0.7),
                0 0 40px rgba(255, 0, 0, 0.5),
                0 0 80px rgba(255, 0, 0, 0.3);
        }

        /* Main title */
        .title-brutal {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 5rem;
            letter-spacing: 8px;
            animation: pulse-fire 2s ease-in-out infinite;
        }

        @keyframes pulse-fire {

            0%,
            100% {
                filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.8));
                transform: scale(1);
            }

            50% {
                filter: drop-shadow(0 0 40px rgba(255, 0, 0, 1));
                transform: scale(1.02);
            }
        }

        /* Buttons */
        .btn-brutal {
            position: relative;
            padding: 20px 40px;
            border-radius: 12px;
            font-weight: 900;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            border: 2px solid;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-brutal::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn-brutal:hover::before {
            left: 100%;
        }

        .btn-fire {
            background: linear-gradient(135deg, #cc0000 0%, #ff0000 50%, #cc0000 100%);
            border-color: #ff0000;
            color: white;
        }

        .btn-fire:hover,
        .btn-fire:active {
            transform: scale(1.05) translateY(-2px);
            box-shadow:
                0 10px 30px rgba(255, 0, 0, 0.6),
                0 0 60px rgba(255, 0, 0, 0.4);
        }

        .btn-dark {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 100%);
            border-color: #ff0000;
            color: #ff0000;
        }

        .btn-dark:hover,
        .btn-dark:active {
            background: linear-gradient(135deg, #2a0000 0%, #3a0000 50%, #2a0000 100%);
            transform: scale(1.03);
        }

        .btn-brutal:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Cards */
        .card-brutal {
            background: linear-gradient(145deg, #1a1a1a 0%, #0d0d0d 100%);
            border: 2px solid rgba(255, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .card-brutal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ff0000, transparent);
        }

        /* Input */
        .input-brutal {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(255, 0, 0, 0.4);
            border-radius: 12px;
            padding: 18px;
            color: white;
            font-size: 1.1rem;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .input-brutal:focus {
            outline: none;
            border-color: #ff0000;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
        }

        .input-brutal::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }

        /* Player items */
        .player-item {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.2);
            border-radius: 12px;
            padding: 14px 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 14px;
            transition: all 0.3s ease;
        }

        .player-item:hover {
            background: rgba(255, 0, 0, 0.2);
            border-color: rgba(255, 0, 0, 0.5);
        }

        .player-item.active {
            background: rgba(255, 0, 0, 0.3);
            border-color: #ff0000;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
        }

        .player-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff0000, #990000);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            font-weight: bold;
            color: white;
            border: 2px solid #ff0000;
        }

        /* Challenge card */
        .challenge-card {
            animation: slide-brutal 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slide-brutal {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9) rotateX(10deg);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1) rotateX(0);
            }
        }

        /* Category badge */
        .category-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Floating emojis */
        .floating-skull {
            position: fixed;
            font-size: 2rem;
            opacity: 0.1;
            pointer-events: none;
            animation: float-skull 20s linear infinite;
            z-index: 0;
        }

        @keyframes float-skull {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.1;
            }

            90% {
                opacity: 0.1;
            }

            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Shake animation for intense moments */
        .shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20% {
                transform: translateX(-10px) rotate(-1deg);
            }

            40% {
                transform: translateX(10px) rotate(1deg);
            }

            60% {
                transform: translateX(-10px) rotate(-1deg);
            }

            80% {
                transform: translateX(10px) rotate(1deg);
            }
        }

        /* Player pills in game */
        .player-pill {
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            font-weight: 700;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .player-pill.active {
            background: linear-gradient(135deg, #ff0000, #cc0000);
            color: white;
            border-color: #ff0000;
            animation: pulse-active 1.5s ease-in-out infinite;
        }

        .player-pill.inactive {
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.5);
            border-color: rgba(255, 0, 0, 0.2);
        }

        @keyframes pulse-active {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
            }

            50% {
                box-shadow: 0 0 20px 5px rgba(255, 0, 0, 0.4);
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #ff0000;
            border-radius: 3px;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .title-brutal {
                font-size: 3.5rem;
                letter-spacing: 4px;
            }

            .card-brutal {
                padding: 20px;
            }

            .btn-brutal {
                padding: 16px 30px;
                font-size: 1rem;
            }
        }

        /* Warning banner */
        .warning-banner {
            background: repeating-linear-gradient(45deg,
                    #000,
                    #000 10px,
                    #ff0000 10px,
                    #ff0000 20px);
            padding: 3px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .warning-banner-inner {
            background: #0a0a0a;
            border-radius: 8px;
            padding: 10px 15px;
            text-align: center;
            font-weight: 700;
            color: #ff0000;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        /* Turn counter */
        .turn-counter {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid rgba(255, 0, 0, 0.4);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            color: #ff4444;
        }
    </style>
</head>

<body class="bg-hellfire min-h-screen">
    <div id="app" class="min-h-screen">
        <!-- Floating skulls background -->
        <div class="floating-skull" style="left: 5%; animation-delay: 0s;">üíÄ</div>
        <div class="floating-skull" style="left: 20%; animation-delay: 4s;">üî•</div>
        <div class="floating-skull" style="left: 35%; animation-delay: 8s;">‚ò†Ô∏è</div>
        <div class="floating-skull" style="left: 50%; animation-delay: 12s;">üç∫</div>
        <div class="floating-skull" style="left: 65%; animation-delay: 16s;">üíÄ</div>
        <div class="floating-skull" style="left: 80%; animation-delay: 3s;">üî•</div>
        <div class="floating-skull" style="left: 95%; animation-delay: 7s;">‚ò†Ô∏è</div>

        <!-- Main Container -->
        <div class="min-h-screen flex flex-col items-center justify-center p-5 relative z-10">

            <!-- ==================== START SCREEN ==================== -->
            <div v-if="screen === 'start'" class="w-full max-w-md">
                <div class="text-center mb-10">
                    <h1 class="title-brutal text-fire">üî• PREVIAS üî•</h1>
                    <p class="text-gray-500 text-lg mt-2 uppercase tracking-widest">El juego m√°s bestia</p>
                </div>

                <div class="card-brutal">
                    <div class="warning-banner">
                        <div class="warning-banner-inner">
                            ‚ö†Ô∏è SOLO PARA MAYORES DE 18 ‚ö†Ô∏è
                        </div>
                    </div>

                    <button @click="startGame" class="btn-brutal btn-fire w-full">
                        üéÆ JUGAR
                    </button>

                    <p class="text-center text-gray-600 text-sm mt-4">
                        A√±ade jugadores y prep√°rate para lo peor
                    </p>
                </div>
            </div>

            <!-- ==================== ADD PLAYERS SCREEN ==================== -->
            <div v-if="screen === 'addPlayers'" class="w-full max-w-md">
                <div class="text-center mb-6">
                    <h1 class="text-3xl font-black text-fire text-glow mb-2">üë• V√çCTIMAS</h1>
                    <p class="text-gray-500">M√≠nimo 2 valientes para empezar</p>
                </div>

                <div class="card-brutal">
                    <!-- Add player form -->
                    <div class="flex gap-3 mb-6">
                        <input v-model="newPlayerName" type="text" placeholder="Nombre del jugador..."
                            class="input-brutal flex-1" maxlength="15" @keyup.enter="addPlayer">
                        <button @click="addPlayer" class="btn-brutal btn-fire" :disabled="!newPlayerName.trim()"
                            style="min-width: 60px; padding: 15px;">
                            ‚ûï
                        </button>
                    </div>

                    <!-- Player list -->
                    <div class="space-y-2 mb-6 max-h-60 overflow-y-auto">
                        <div v-for="(player, index) in players" :key="index" class="player-item">
                            <div class="player-avatar">
                                {{ player.charAt(0).toUpperCase() }}
                            </div>
                            <span class="text-white font-semibold flex-1">{{ player }}</span>
                            <button @click="removePlayer(index)"
                                class="text-red-500 hover:text-red-400 text-xl px-2 font-bold">
                                ‚úï
                            </button>
                        </div>

                        <div v-if="players.length === 0" class="text-center text-gray-600 py-8">
                            <p class="text-4xl mb-2">üíÄ</p>
                            <p>¬øNadie tiene huevos?</p>
                        </div>
                    </div>

                    <!-- Start button -->
                    <button @click="startGameWithPlayers" class="btn-brutal btn-fire w-full"
                        :disabled="players.length < 2">
                        üî• EMPEZAR ({{ players.length }} jugadores)
                    </button>
                </div>

                <button @click="screen = 'start'"
                    class="text-gray-600 hover:text-red-500 transition-colors w-full py-4 mt-2 text-center font-semibold">
                    ‚Üê Volver
                </button>
            </div>

            <!-- ==================== GAME SCREEN ==================== -->
            <div v-if="screen === 'game'" class="w-full max-w-md">
                <!-- Turn indicator -->
                <div class="text-center mb-4">
                    <span class="turn-counter">
                        RONDA {{ currentTurn + 1 }}
                    </span>
                </div>

                <!-- Current player -->
                <div class="text-center mb-5">
                    <p class="text-gray-500 mb-1 text-sm uppercase tracking-wider">Le toca a:</p>
                    <p class="text-4xl font-black text-fire text-glow">
                        {{ currentPlayerName }}
                    </p>
                </div>

                <!-- Challenge card -->
                <div class="card-brutal challenge-card mb-5 glow-fire" :key="currentTurn">
                    <div class="text-center">
                        <!-- Category badge -->
                        <span class="category-badge mb-4"
                            :style="{ background: getCategoryColor(currentChallengeData?.category) }">
                            {{ getCategoryEmoji(currentChallengeData?.category) }} {{ currentChallengeData?.category ||
                            'Desaf√≠o' }}
                        </span>

                        <!-- Challenge text -->
                        <p class="text-2xl text-white font-bold mt-6 leading-relaxed px-2">
                            {{ currentChallenge }}
                        </p>
                    </div>
                </div>

                <!-- Player list (compact) -->
                <div class="card-brutal mb-5 py-4">
                    <div class="flex flex-wrap gap-2 justify-center">
                        <div v-for="(name, index) in players" :key="index" class="player-pill"
                            :class="name === currentPlayerName ? 'active' : 'inactive'">
                            {{ name }}
                        </div>
                    </div>
                </div>

                <!-- Next turn button -->
                <button @click="nextTurn" class="btn-brutal btn-fire w-full">
                    ‚è≠Ô∏è SIGUIENTE TURNO
                </button>

                <button @click="endGame"
                    class="text-gray-600 hover:text-red-500 transition-colors w-full py-4 mt-2 text-center font-semibold">
                    üö™ Terminar Partida
                </button>
            </div>

        </div>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        // ============================================================
        // üî•üî•üî• DESAF√çOS BESTIAS - SIN CENSURA üî•üî•üî•
        // ============================================================
        const challenges = [
            // YO NUNCA - Lo peor que has hecho
            { category: "Yo Nunca", text: "Yo nunca... me he follado a alguien que no me atra√≠a solo por despecho üíî" },
            { category: "Yo Nunca", text: "Yo nunca... he fingido un orgasmo (si lo has hecho, 3 tragos y di con qui√©n) üé≠" },
            { category: "Yo Nunca", text: "Yo nunca... me he liado con el/la ex de un amigo/a üëÄ" },
            { category: "Yo Nunca", text: "Yo nunca... he mandado nudes a la persona equivocada üì±üíÄ" },
            { category: "Yo Nunca", text: "Yo nunca... he vomitado encima de alguien mientras follaba ü§Æ" },
            { category: "Yo Nunca", text: "Yo nunca... he tenido un tr√≠o (si s√≠, cu√©ntalo o 5 tragos) üî•" },
            { category: "Yo Nunca", text: "Yo nunca... me he masturbado pensando en alguien de esta sala üôà" },
            { category: "Yo Nunca", text: "Yo nunca... he follado en casa de mis padres mientras estaban ü§´" },
            { category: "Yo Nunca", text: "Yo nunca... me he despertado sin saber con qui√©n estaba en la cama üòµ" },
            { category: "Yo Nunca", text: "Yo nunca... he hecho un polvo de una noche y me he ido sin decir nada üèÉ" },

            // VERDAD - Confesiones brutales
            { category: "Verdad", text: "¬øCu√°l es tu fantas√≠a sexual m√°s turbia? Confiesa o bebe 5 tragos üîû" },
            { category: "Verdad", text: "¬øCon qui√©n de esta sala follar√≠as si no hubiera consecuencias? DI EL NOMBRE üòà" },
            { category: "Verdad", text: "¬øCu√°ntas personas de aqu√≠ te has imaginado desnudas? Di el n√∫mero üëÄ" },
            { category: "Verdad", text: "Lee el √∫ltimo mensaje sexual que enviaste o recibiste üì±üî•" },
            { category: "Verdad", text: "¬øCu√°l fue tu peor polvo y por qu√©? Detalles o 4 tragos üíÄ" },
            { category: "Verdad", text: "¬øHas llorado despu√©s de follar? ¬øPor qu√©? üò¢" },
            { category: "Verdad", text: "¬øQu√© es lo m√°s ilegal que has hecho? Cuenta la historia completa üö®" },
            { category: "Verdad", text: "¬øD√≥nde es el sitio m√°s raro donde has follado? üìç" },
            { category: "Verdad", text: "Confiesa tu fetiche m√°s raro. Sin mentir. üé≠" },
            { category: "Verdad", text: "¬øAlguna vez has tenido sentimientos por alguien aqu√≠? ¬øQui√©n? üíò" },

            // RETO - Los m√°s bestias
            { category: "Reto", text: "Manda un audio a tu crush diciendo 'Estoy pensando en ti' con voz sexy üì≤üî•" },
            { category: "Reto", text: "Qu√≠tate una prenda de ropa. Si solo te queda ropa interior, bebe 5 tragos üëô" },
            { category: "Reto", text: "Dale un beso de 10 segundos a quien elija el grupo üíã" },
            { category: "Reto", text: "Si√©ntate en el regazo de otro jugador hasta el siguiente turno ü¶µ" },
            { category: "Reto", text: "Deja que alguien te haga un chupet√≥n donde quiera (o 6 tragos) üíú" },
            { category: "Reto", text: "Gime de forma convincente durante 15 segundos mirando a alguien üò©" },
            { category: "Reto", text: "Llama a tu ex y dile que le echas de menos EN ALTAVOZ üìûüíÄ" },
            { category: "Reto", text: "Haz tu mejor cara de orgasmo. El grupo vota si es cre√≠ble üé≠" },
            { category: "Reto", text: "Lame el cuello a la persona de tu derecha (o CHUPA del vaso de todos) üëÖ" },
            { category: "Reto", text: "Manda un mensaje a tu √∫ltimo match diciendo 'Tengo ganas de verte' üì±" },
            { category: "Reto", text: "Baila en el regazo de otra persona durante 30 segundos üíÉ" },
            { category: "Reto", text: "Deja que el grupo elija tu estado de WhatsApp por 24h üì±" },

            // CASTIGO - Todos beben
            { category: "Castigo", text: "¬°FONDO FONDO FONDO! El que no termine su bebida hace un reto extra üç∫‚ö°" },
            { category: "Castigo", text: "Todos los que hayan follado este mes, beben. Los que no, beben el doble üî•" },
            { category: "Castigo", text: "Todos beben mientras el jugador actual cuenta hasta 10 muy lento üê¢" },
            { category: "Castigo", text: "El √∫ltimo en tocar el suelo vac√≠a su vaso üëá‚ö°" },
            { category: "Castigo", text: "El que tenga el m√≥vil m√°s cerca lo pierde 5 minutos. Si mira, vac√≠a vaso üìµ" },

            // BOMBA - Lo m√°s heavy
            { category: "Bomba", text: "BOMBA: Rankea a todos los jugadores del m√°s al menos atractivo. EN VOZ ALTA üí£" },
            { category: "Bomba", text: "BOMBA: Di algo que nunca le dir√≠as a alguien aqu√≠... Y D√çSELO AHORA üí£" },
            { category: "Bomba", text: "BOMBA: Confiesa qui√©n te gustar√≠a que te besara ahora mismo üí£üíã" },
            { category: "Bomba", text: "BOMBA: Cuenta tu secreto m√°s vergonzoso o vac√≠a tu vaso de golpe üí£" },
            { category: "Bomba", text: "BOMBA: ¬øDe qui√©n aqu√≠ tienes m√°s celos? Di el nombre y por qu√© üí£" },
            { category: "Bomba", text: "BOMBA: Describe c√≥mo crees que folla cada persona del grupo üí£üî•" },

            // REGLA NUEVA - Jode a todos
            { category: "Nueva Regla", text: "NUEVA REGLA: Nadie puede decir 'no' hasta el siguiente turno. El que lo diga, bebe üö´" },
            { category: "Nueva Regla", text: "NUEVA REGLA: Cada vez que alguien beba, tiene que gemir üò©üç∫" },
            { category: "Nueva Regla", text: "NUEVA REGLA: Hay que llamarse por motes sexuales. Inventadlos AHORA üíã" },
            { category: "Nueva Regla", text: "NUEVA REGLA: Solo se puede hablar susurrando al o√≠do üëÇ" },
            { category: "Nueva Regla", text: "NUEVA REGLA: Antes de beber hay que decir algo que te ponga üî•" },

            // ELIGE - El poder absoluto
            { category: "Elige", text: "Elige a alguien para que se quite una prenda o beba 4 tragos üëÜ" },
            { category: "Elige", text: "Elige a 2 personas: tienen que besarse o ambos beben 5 tragos üíã" },
            { category: "Elige", text: "Elige a alguien para hacerle 3 preguntas. TIENE que responder con verdad üîç" },
            { category: "Elige", text: "Elige qui√©n tiene que enviar un mensaje comprometedor a su ex üì±üíÄ" },
            { category: "Elige", text: "Elige a alguien para intercambiar una prenda de ropa contigo üëï" },
            { category: "Elige", text: "Elige a alguien: tiene que hacer un striptease de 30 segundos o vaciar su vaso ü©≤" },

            // CONFESIONARIO - Lo m√°s oscuro
            { category: "Confesionario", text: "Confiesa: ¬øHas fantaseado con alguien del grupo? ¬øQu√© fantas√≠a? üîû" },
            { category: "Confesionario", text: "Confiesa: ¬øCu√°l es la mentira m√°s gorda que le has dicho a alguien aqu√≠? ü§•" },
            { category: "Confesionario", text: "Confiesa: ¬øQu√© es lo m√°s sucio que has hecho estando borracho/a? ü•¥" },
            { category: "Confesionario", text: "Confiesa: ¬øAlguna vez te has enamorado de alguien que no deb√≠as? ¬øQui√©n? üíî" },
            { category: "Confesionario", text: "Confiesa: ¬øQu√© es lo que m√°s te averg√ºenza de tu vida sexual? üôà" },

            // DUELO - Cara a cara
            { category: "Duelo", text: "DUELO: Elige a alguien. Miraos a los ojos 30 seg. El primero en re√≠r bebe el doble üëÅÔ∏è" },
            { category: "Duelo", text: "DUELO: Piedra, papel, tijera. El perdedor hace lo que diga el ganador üé≤" },
            { category: "Duelo", text: "DUELO: Compite con alguien a ver qui√©n dice el piropo m√°s sucio üíã" },
            { category: "Duelo", text: "DUELO: Ver qui√©n aguanta m√°s tiempo haciendo una plancha. El perdedor, 5 tragos üí™" },

            // HUMILLACI√ìN - Sin piedad
            { category: "Humillaci√≥n", text: "El grupo vota: ¬øQui√©n aqu√≠ es el/la m√°s f√°cil? Esa persona bebe 3 üòà" },
            { category: "Humillaci√≥n", text: "Imita c√≥mo crees que gime la persona de tu izquierda üé≠" },
            { category: "Humillaci√≥n", text: "El grupo decide tu pose para una foto que subir√°s a Instagram üì∏" },
            { category: "Humillaci√≥n", text: "Cuenta tu rechazo m√°s humillante. Con detalles üíÄ" },
            { category: "Humillaci√≥n", text: "Deja que alguien mande un mensaje desde tu m√≥vil a quien quiera üì±‚ö†Ô∏è" }
        ];

        const app = createApp({
            setup() {
                // State
                const screen = ref('start');
                const players = ref([]);
                const newPlayerName = ref('');
                const currentTurn = ref(0);
                const currentChallenge = ref('');
                const currentPlayerName = ref('');
                const currentChallengeData = ref(null);
                const currentPlayerIndex = ref(0);

                // Methods
                const startGame = () => {
                    screen.value = 'addPlayers';
                };

                const addPlayer = () => {
                    const name = newPlayerName.value.trim();
                    if (name && !players.value.includes(name)) {
                        players.value.push(name);
                        newPlayerName.value = '';
                    }
                };

                const removePlayer = (index) => {
                    players.value.splice(index, 1);
                };

                const pickRandomChallenge = () => {
                    const challenge = challenges[Math.floor(Math.random() * challenges.length)];
                    currentChallenge.value = challenge.text;
                    currentChallengeData.value = challenge;
                };

                const startGameWithPlayers = () => {
                    if (players.value.length < 2) return;

                    currentPlayerIndex.value = Math.floor(Math.random() * players.value.length);
                    currentPlayerName.value = players.value[currentPlayerIndex.value];
                    pickRandomChallenge();
                    currentTurn.value = 0;
                    screen.value = 'game';
                };

                const nextTurn = () => {
                    currentPlayerIndex.value = (currentPlayerIndex.value + 1) % players.value.length;
                    currentPlayerName.value = players.value[currentPlayerIndex.value];
                    pickRandomChallenge();
                    currentTurn.value++;
                };

                const endGame = () => {
                    players.value = [];
                    currentTurn.value = 0;
                    screen.value = 'start';
                };

                const getCategoryColor = (category) => {
                    const colors = {
                        'Yo Nunca': 'linear-gradient(135deg, #dc2626, #991b1b)',
                        'Verdad': 'linear-gradient(135deg, #9333ea, #6b21a8)',
                        'Reto': 'linear-gradient(135deg, #ea580c, #c2410c)',
                        'Castigo': 'linear-gradient(135deg, #0891b2, #0e7490)',
                        'Bomba': 'linear-gradient(135deg, #000000, #1f1f1f)',
                        'Nueva Regla': 'linear-gradient(135deg, #ca8a04, #a16207)',
                        'Elige': 'linear-gradient(135deg, #db2777, #be185d)',
                        'Confesionario': 'linear-gradient(135deg, #4f46e5, #3730a3)',
                        'Duelo': 'linear-gradient(135deg, #059669, #047857)',
                        'Humillaci√≥n': 'linear-gradient(135deg, #dc2626, #450a0a)'
                    };
                    return colors[category] || 'linear-gradient(135deg, #6b7280, #4b5563)';
                };

                const getCategoryEmoji = (category) => {
                    const emojis = {
                        'Yo Nunca': 'üôÖ',
                        'Verdad': 'üîÆ',
                        'Reto': 'üéØ',
                        'Castigo': '‚ö°',
                        'Bomba': 'üí£',
                        'Nueva Regla': 'üìú',
                        'Elige': 'üëÜ',
                        'Confesionario': 'üïØÔ∏è',
                        'Duelo': '‚öîÔ∏è',
                        'Humillaci√≥n': 'üòà'
                    };
                    return emojis[category] || 'üî•';
                };

                return {
                    screen,
                    players,
                    newPlayerName,
                    currentTurn,
                    currentChallenge,
                    currentPlayerName,
                    currentChallengeData,
                    startGame,
                    addPlayer,
                    removePlayer,
                    startGameWithPlayers,
                    nextTurn,
                    endGame,
                    getCategoryColor,
                    getCategoryEmoji
                };
            }
        });

        app.mount('#app');
    </script>
</body>

</html>